{% extends "template.html" %}

{% block title %}
    Register
{% endblock %}


{% block main %}
   
    <form action="/register" method="post" autocomplete="off">
        <div><input autofocus name="username" placeholder="your username" type="text" required></div>
        <div>
            <input id="password" name="password" placeholder="password" type="password" required>
            <img id="togglePassword" src="../static/images/visibility_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg" width="24px" alt="eye symbol to toggle password visibility">
        </div>
        <div>
            <input id="passwordRepeat" name="confirmPassword" placeholder="repeat password" type="password" required>
            <img id="togglePasswordRepeat" src="../static/images/visibility_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg" width="24px" alt="eye symbol to toggle password visibility">
        </div>
        <div><button type="submit">Login</button></div>
    </form>    

    <p>
        Password requirements:
        <ul>
            <li>at least 8 characters long</li>
            <li>contains atleast one uppercase letter</li>
            <li>contains atleast one lowercase letter</li>
            <li>contains atleast one number</li>
            <li>contains atleast one symbol (?!-+)</li>
            <li>all of the characters are either a symbol or alphanums</li>
        </ul>
    </p>

{% endblock %}

{% block scripts %}
    <script>
        // Regular Password

        const togglePassword = document.getElementById('togglePassword');
        let password = document.getElementById('password');

        /* When <img> is clicked */
        togglePassword.addEventListener('click', function(e) {
            // Toggle the passwordtype
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);

            // Toggle the eye icon
            if(togglePassword.src.match("../static/images/visibility_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg")) {
                togglePassword.src = "../static/images/visibility_off_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg";
            } else {
                togglePassword.src = "../static/images/visibility_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg";
            }
        });

        // Repeated Password

        const togglePasswordRepeat = document.getElementById('togglePasswordRepeat');
        let passwordRepeat = document.getElementById('passwordRepeat');

        /* When <img> is clicked */
        togglePasswordRepeat.addEventListener('click', function(e) {
            // Toggle the passwordtype
            const type = passwordRepeat.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordRepeat.setAttribute('type', type);

            // Toggle the eye icon
            if(togglePasswordRepeat.src.match("../static/images/visibility_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg")) {
                togglePasswordRepeat.src = "../static/images/visibility_off_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg";
            } else {
                togglePasswordRepeat.src = "../static/images/visibility_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg";
            }
        });
    </script>
{% endblock %}