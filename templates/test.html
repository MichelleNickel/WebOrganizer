{% extends "template.html" %}

{% block title %}
    testpage
{% endblock %}

{% block customCSS %}
    <!-- <link href="../static/customStyles.css" rel="stylesheet"> -->
{% endblock %}

{% block header %}
    <img id="banner" src="../static/images/catBanner.png" alt="Cat-Banner" >
{% endblock %}

{% block main %}

    <h1>THIS IS THE ACTUAL TEST 1 PAGE</h1>

    <div class="containers">
        {% for pref in layout_prefs %}
            <div>{{ pref.element_name }}</div>
        {% endfor %}
    </div>

    <div id="widgetContainer"></div>

    <!--
    <script src="{{ url_for('static', filename='js/dynamicHomePage.js') }}"></script>
    <script>
        // layout_prefs from jinja somehow
        renderHomepage(layout_prefs);
    </script>
    -->
    
    <h2>THIS IS THE CONTROL AREA</h2>
    this is a main block of test page
    <section>
        <h2>To Do's</h2>
        <ul>
            <li>do laundry</li>
            <li>askesa</li>
            <li>cuddles</li>
        </ul>
        <ul>
            <li>procrastination</li>
        </ul>
    </section>

    <section>
        <h2>This Week</h2>
        <table class="table table-bordered table-dark">
            <thead>
                <tr>
                    <th scope="col">Monday</th>
                    <th scope="col">Tuesday</th>
                    <th scope="col">Wednesday</th>
                    <th scope="col">Thursday</th>
                    <th scope="col">Friday</th>
                    <th scope="col">Saturday</th>
                    <th scope="col">Sunday</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        22.04. <br><br>
                        20:30-21:30<br>
                        Stretching
                    </td>
                    <td>23.04.</td>
                    <td>
                        24.04. <br><br>
                        18:00-19:00<br>
                        Pole Dancing
                    </td>
                    <td>
                        25.04.   Today<br><br>
                        20:30-21:30<br>
                        Stretching
                    </td>
                    <td>26.04.</td>
                    <td>
                        27.04. <br><br>
                        11:00-14:00<br>
                        Winter Kaffee
                    </td>
                    <td>
                        28.04. <br><br>
                        14:00-	&#8734; <br>
                        Fotos machen
                    </td>
                </tr>
                <tr>
                    <td>
                        29.04. <br><br>
                        19:15-20:15 <br>
                        Pole Dancing <br>
                        20:30-21:30 <br>
                        Stretching
                    </td>
                    <td>
                        30.04. <br><br>
                        18:00 <br>
                        Shopping TKMaxx
                    </td>
                    <td>
                        01.05. <br><br>
                        18:00-19:00 <br>
                        Pole Dancing
                    </td>
                    <td>02.04.</td>
                    <td>
                        03.04. <br><br>
                        18:00- &#8734; <br>
                        Meal Prep
                    </td>
                    <td>04.04.</td>
                    <td>05.04.</td>
                </tr>
            </tbody>
        </table>
    </section>

{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/dynamicHomePage.js') }}"></script>
    <script>
        function renderHomepage(layoutPrefs) {
            const widgetContainer = document.getElementById("widgetContainer");
            widgetContainer.innerHTML = ''; // Clear existing content

            let element = createToDo();
            widgetContainer.appendChild(element);
            element = createWeek();
            widgetContainer.appendChild(element);

        }

        function createToDo() {
            const section = document.createElement("section");
            const header = document.createElement("h2");
            header.textContent = "To Do's";
            const list1 = document.createElement("ul");
            const list2 = document.createElement("ul");
            const item1 = document.createElement("li");
            item1.textContent = "do laundry";
            const item2 = document.createElement("li");
            item2.textContent = "askesa";
            const item3 = document.createElement("li");
            item3.textContent = "cuddles";
            const item4 = document.createElement("li");
            item4.textContent = "procrastination";

            section.appendChild(header);
            section.appendChild(list1);
            section.appendChild(list2);
            list1.appendChild(item1);
            list1.appendChild(item2);
            list1.appendChild(item3);
            list2.appendChild(item4);

            return section;
        }

        function createWeek() {
            const section = document.createElement("section");
            const header = document.createElement("h2");
            header.textContent = "This Week";
            const table = document.createElement("table");
            const thead = document.createElement("thead");
            const theadr = document.createElement("tr");
            const theadd1 = document.createElement("th");
            theadd1.scope = "col";
            theadd1.textContent = "Monday";
            const theadd2 = document.createElement("th");
            theadd2.scope = "col";
            theadd2.textContent = "Tuesday";
            const theadd3 = document.createElement("th");
            theadd3.scope = "col";
            theadd3.textContent = "Wednesday";
            const theadd4 = document.createElement("th");
            theadd4.scope = "col";
            theadd4.textContent = "Thursday";
            const theadd5 = document.createElement("th");
            theadd5.scope = "col";
            theadd5.textContent = "Friday";
            const theadd6 = document.createElement("th");
            theadd6.scope = "col";
            theadd6.textContent = "Saturday";
            const theadd7 = document.createElement("th");
            theadd7.scope = "col";
            theadd7.textContent = "Sunday";

            const tbody = document.createElement("tbody");
            const tbodyr1 = document.createElement("tr");
            const tbodyd11 = document.createElement("td");
            tbodyd11.textContent = "22.04. <br><br> 20:30-21:30<br> Stretching";
            const tbodyd12 = document.createElement("td");
            tbodyd12.textContent = "23.04.";
            const tbodyd13 = document.createElement("td");
            tbodyd13.textContent = "24.04. <br><br> 18:00-19:00<br> Pole Dancing";
            const tbodyd14 = document.createElement("td");
            tbodyd14.textContent = "25.04. Today<br><br> 20:30-21:30<br> Stretching";
            const tbodyd15 = document.createElement("td");
            tbodyd15.textContent = "26.04.";
            const tbodyd16 = document.createElement("td");
            tbodyd16.textContent = "27.04. <br><br> 11:00-14:00<br> Winter Kaffee";
            const tbodyd17 = document.createElement("td");
            tbodyd17.textContent = "28.04. <br><br> 14:00-	&#8734; <br> Fotos machen";

            const tbodyr2 = document.createElement("tr");
            const tbodyd21 = document.createElement("td");
            tbodyd21.textContent = "29.04. <br><br> 19:15-20:15 <br> Pole Dancing <br> 20:30-21:30 <br> Stretching";
            const tbodyd22 = document.createElement("td");
            tbodyd22.textContent = "30.04. <br><br> 18:00 <br> Shopping TKMaxx";
            const tbodyd23 = document.createElement("td");
            tbodyd23.textContent = "01.05. <br><br> 18:00-19:00 <br> Pole Dancing";
            const tbodyd24 = document.createElement("td");
            tbodyd24.textContent = "02.04.";
            const tbodyd25 = document.createElement("td");
            tbodyd25.textContent = "03.04. <br><br> 18:00- &#8734; <br> Meal Prep";
            const tbodyd26 = document.createElement("td");
            tbodyd26.textContent = "04.04.";
            const tbodyd27 = document.createElement("td");
            tbodyd27.textContent = "05.04.";

            
            section.appendChild(header);
            section.appendChild(table);
            table.appendChild(thead);
            table.appendChild(tbody);
            thead.appendChild(theadr);
            theadr.appendChild(theadd1);
            theadr.appendChild(theadd2);
            theadr.appendChild(theadd3);
            theadr.appendChild(theadd4);
            theadr.appendChild(theadd5);
            theadr.appendChild(theadd6);
            theadr.appendChild(theadd7);
            tbody.appendChild(tbodyr1);
            tbody.appendChild(tbodyr2);
            tbodyr1.appendChild(tbodyd11);
            tbodyr1.appendChild(tbodyd12);
            tbodyr1.appendChild(tbodyd13);
            tbodyr1.appendChild(tbodyd14);
            tbodyr1.appendChild(tbodyd15);
            tbodyr1.appendChild(tbodyd16);
            tbodyr1.appendChild(tbodyd17);
            tbodyr2.appendChild(tbodyd21);
            tbodyr2.appendChild(tbodyd22);
            tbodyr2.appendChild(tbodyd23);
            tbodyr2.appendChild(tbodyd24);
            tbodyr2.appendChild(tbodyd25);
            tbodyr2.appendChild(tbodyd26);
            tbodyr2.appendChild(tbodyd27);
        }

        // layout_prefs from jinja somehow
        renderHomepage(layout_prefs);
        
    </script>
{% endblock %}